<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quick Start Guide to 'gitlabr' • gitlabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Quick Start Guide to 'gitlabr'">
<meta property="og:description" content="gitlabr">
<meta property="og:image" content="https://thinkr-open.github.io/gitlabr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gitlabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.1.9007</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a-quick-start-guide-to-gitlabr.html">Quick Start Guide to 'gitlabr'</a>
    </li>
    <li>
      <a href="../articles/b-projects.html">Create and manage a new GitLab project</a>
    </li>
    <li>
      <a href="../articles/c-alternative-connection-to-projects.html">Alternative connections to projects</a>
    </li>
    <li>
      <a href="../articles/d-go-further-understand-and-build.html">Go further: understand and build your functions</a>
    </li>
    <li>
      <a href="../articles/z-gitlabr-v2.html">Breaking changes in 'gitlabr' V2</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ThinkR-open/gitlabr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Quick Start Guide to ‘gitlabr’</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ThinkR-open/gitlabr/blob/HEAD/vignettes/a-quick-start-guide-to-gitlabr.Rmd" class="external-link"><code>vignettes/a-quick-start-guide-to-gitlabr.Rmd</code></a></small>
      <div class="hidden name"><code>a-quick-start-guide-to-gitlabr.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="quick-start-example">Quick Start Example<a class="anchor" aria-label="anchor" href="#quick-start-example"></a>
</h2>
<p>To run the code in this vignette you’ll need to have a GitLab account
and you need to generate a personal access token (PAT). See the GitLab
<a href="https://docs.gitlab.com/ce/user/profile/personal_access_tokens.html" class="external-link">documentation</a>
on how to generate PATs. In the <strong>Scopes</strong> section you only
need to tick the <em>api</em> box.</p>
<ul>
<li>For instance on gitlab.com:
<code>https://gitlab.com/-/profile/personal_access_tokens</code>
</li>
<li>Tick the fist checkboxes (the <code>api</code> scope)</li>
<li>Add the token in your “.Renviron” as
<code>GITLAB_COM_TOKEN</code>
</li>
</ul>
<p>R code using ‘gitlabr’ to perform some easy, common GitLab actions
can look like this:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://thinkr-open.github.io/gitlabr/">gitlabr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Store your token in .Renviron and restart your session</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">edit_r_environ</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Add: GITLAB_COM_TOKEN=YourTokenHere</span></span>
<span><span class="co"># You can verify it worked</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GITLAB_COM_TOKEN"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># connect as a fixed user to a GitLab instance</span></span>
<span><span class="fu"><a href="../reference/set_gitlab_connection.html">set_gitlab_connection</a></span><span class="op">(</span></span>
<span>  gitlab_url <span class="op">=</span> <span class="st">"https://gitlab.com/"</span>,</span>
<span>  private_token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GITLAB_COM_TOKEN"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/gl_list_groups.html">gl_list_groups</a></span><span class="op">(</span>page <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># Returns all groups you have access to</span></span>
<span><span class="fu"><a href="../reference/gl_list_projects.html">gl_list_projects</a></span><span class="op">(</span>page <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># Returns all projects on GitLab, so we limit to just the first page of results.</span></span>
<span></span>
<span><span class="co"># It's unlikely that you'll want to use 'gitlabr' to interact with all the projects on GitLab, so a better approach is to define the project you want to work on. This is done by finding the the project ID on GitLab.com (it is listed right below the project name on the repo front page).</span></span>
<span><span class="co"># Here we use the [project "repo.rtask"](https://gitlab.com/statnmap/repo.rtask)</span></span>
<span><span class="va">my_project</span> <span class="op">&lt;-</span> <span class="fl">20384533</span></span>
<span><span class="fu"><a href="../reference/gl_list_files.html">gl_list_files</a></span><span class="op">(</span>project <span class="op">=</span> <span class="va">my_project</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a new issue</span></span>
<span><span class="va">new_feature_issue</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gl_new_issue.html">gl_create_issue</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"Implement new feature"</span>,</span>
<span>  project <span class="op">=</span> <span class="va">my_project</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># statnmap user ID</span></span>
<span><span class="va">my_id</span> <span class="op">&lt;-</span> <span class="fl">4809823</span></span>
<span></span>
<span><span class="co"># assign issue to me</span></span>
<span><span class="fu"><a href="../reference/gl_new_issue.html">gl_assign_issue</a></span><span class="op">(</span></span>
<span>  assignee_id <span class="op">=</span> <span class="va">example_user</span><span class="op">$</span><span class="va">id</span>,</span>
<span>  issue_id <span class="op">=</span> <span class="va">new_feature_issue</span><span class="op">$</span><span class="va">iid</span>,</span>
<span>  project <span class="op">=</span> <span class="va">my_project</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List opened issues</span></span>
<span><span class="fu"><a href="../reference/gl_list_issues.html">gl_list_issues</a></span><span class="op">(</span></span>
<span>  state <span class="op">=</span> <span class="st">"opened"</span>,</span>
<span>  project <span class="op">=</span> <span class="va">my_project</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># close the issue</span></span>
<span><span class="fu"><a href="../reference/gl_new_issue.html">gl_close_issue</a></span><span class="op">(</span></span>
<span>  issue_id <span class="op">=</span> <span class="va">new_feature_issue</span><span class="op">$</span><span class="va">iid</span>,</span>
<span>  project <span class="op">=</span> <span class="va">my_project</span></span>
<span><span class="op">)</span><span class="op">$</span><span class="va">state</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="central-features-of-gitlabr">Central features of ‘gitlabr’<a class="anchor" aria-label="anchor" href="#central-features-of-gitlabr"></a>
</h2>
<ul>
<li>‘gitlabr’ provides a high and a low level interface to the GitLab
API at the same time:
<ul>
<li>Common queries are wrapped in special convenience functions that can
be used without any knowledge of the GitLab API itself (convenience
functions are listed in a dedicated section on ‘gitlabr’ pkgdown <a href="https://thinkr-open.github.io/gitlabr/reference/index.html">site</a>).</li>
<li>Still, the package can be used to access the complete GitLab API –
learn how to use its full power in the section <a href="#api-calls">“API
calls”</a>.</li>
</ul>
</li>
<li>The output of every call to a ‘gitlabr’ function is a
<code>tibble</code> to integrate seamless into dplyr’s data manipulation
mindset (often called the “tidyverse”)</li>
<li>Pagination is wrapped for the user, but can be controlled via
parameters <code>page</code> and <code>per_page</code> if
necessary.</li>
<li>To allow programming in your favorite style, everything you can do
with ‘gitlabr’ you can do using any of a set of general idioms – get to
know them in the section <a href="#different-ways-to-do-it">“Different
ways to do it”</a>.</li>
<li>You can write your own convenience wrappers on top of the ‘gitlabr’
logic following only one principle as described in the section <a href="#writing-custom-gitlab-request-functions">“Writing custom GitLab
request functions”</a>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="set-connection-and-explore-the-gitlab-instance">Set connection and explore the GitLab instance<a class="anchor" aria-label="anchor" href="#set-connection-and-explore-the-gitlab-instance"></a>
</h2>
<p>This is the recommended way of using ‘gitlabr’. In order to avoid the
repeated specification of <code>gitlab_con()</code> in the parameter
style, you can also set a global variable managed by ‘gitlabr’ to use a
specific connection function for every call:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/set_gitlab_connection.html">set_gitlab_connection</a></span><span class="op">(</span><span class="va">my_gitlab</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/gl_new_issue.html">gl_create_issue</a></span><span class="op">(</span>project <span class="op">=</span> <span class="va">my_project</span>, <span class="st">"Implement new feature"</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/gl_new_issue.html">gl_create_issue()</a></code> is an example function here, the
principle works for all convenience functions of ‘gitlabr’ starting with
<code>gl_*()</code></p>
<p>Note that the set style is not purely functional, since
<code><a href="../reference/set_gitlab_connection.html">set_gitlab_connection()</a></code> changes a saved global variable
affecting the results of all future <code><a href="../reference/gitlab.html">gitlab()</a></code> calls. You can
reset this variable to the default value using
<code><a href="../reference/set_gitlab_connection.html">unset_gitlab_connection()</a></code>.</p>
<div class="section level3">
<h3 id="parameter-style">parameter style<a class="anchor" aria-label="anchor" href="#parameter-style"></a>
</h3>
<p>All convenience wrappers accept a parameter <code>gitlab_con()</code>
specifying the function to use for the actual API call. Hence, you can
pass a GitLab connection (as returned by <code><a href="../reference/gl_connection.html">gl_connection()</a></code>)
with the R function call:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_gitlab</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gl_connection.html">gl_connection</a></span><span class="op">(</span></span>
<span>  gitlab_url <span class="op">=</span> <span class="st">"https://about.gitlab.com/"</span>,</span>
<span>  private_token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GITLAB_COM_TOKEN"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/gl_new_issue.html">gl_create_issue</a></span><span class="op">(</span><span class="st">"Implement new feature"</span>, project <span class="op">=</span> <span class="va">my_project</span>, gitlab_con <span class="op">=</span> <span class="va">my_gitlab</span><span class="op">)</span></span></code></pre></div>
<p>Again, <code><a href="../reference/gl_new_issue.html">gl_create_issue()</a></code> is an example function here,
the principle style works for all convenience functions of ‘gitlabr’
listed in the <a href="#convenience-function-list">“Convenience function
list”</a> below or user-defined functions as described in the section <a href="#writing-custom-gitlab-request-functions">“Writing custom GitLab
request functions”</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-gitlab-ci-with-gitlabr">Using GitLab CI with ‘gitlabr’<a class="anchor" aria-label="anchor" href="#using-gitlab-ci-with-gitlabr"></a>
</h2>
<p>‘gitlabr’ can also be used to create a <code>.gitlab-ci.yml</code>
file to test, build and check an R package using GitLab’s CI software.
See the <code><a href="../reference/use_gitlab_ci.html">use_gitlab_ci()</a></code> and related functions for
documentation.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jirka Lewandowski, Sébastien Rochette.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
